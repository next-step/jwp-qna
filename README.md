# JPA

## 요구사항

- DDL에 맞춰 Entity 수정
- Repository 메소드에 맞춰 테스트 작성
- CustomException으로 예외 처리

## Data Definition Language

### User

```sql
create table user
(
  id         bigint generated by default as identity,
  created_at timestamp   not null,
  email      varchar(50),
  name       varchar(20) not null,
  password   varchar(20) not null,
  updated_at timestamp,
  user_id    varchar(20) not null,
  primary key (id)
)

alter table user
  add constraint UK_a3imlf41l37utmxiquukk8ajc unique (user_id)
```

### Question

```sql
create table question
(
  id         bigint generated by default as identity,
  contents   clob,
  created_at timestamp    not null,
  deleted    boolean      not null,
  title      varchar(100) not null,
  updated_at timestamp,
  writer_id  bigint,
  primary key (id)
)
```

### Answer

```sql
create table answer
(
  id          bigint generated by default as identity,
  contents    clob,
  created_at  timestamp not null,
  deleted     boolean   not null,
  question_id bigint,
  updated_at  timestamp,
  writer_id   bigint,
  primary key (id)
)
```

### Delete History

```sql
create table delete_history
(
  id            bigint generated by default as identity,
  content_id    bigint,
  content_type  varchar(255),
  create_date   timestamp,
  deleted_by_id bigint,
  primary key (id)
)
```
